# å®ç°è¯´æ˜

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜ Unified Skills Repository çš„æŠ€æœ¯å®ç°ç»†èŠ‚ã€‚

## æ¶æ„æ¦‚è¿°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Unified Skills Repository                 â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  GitHub     â”‚  â”‚   Local     â”‚  â”‚   Export    â”‚         â”‚
â”‚  â”‚  Actions    â”‚  â”‚   Scripts   â”‚  â”‚   Directory â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚         â”‚                â”‚                â”‚                â”‚
â”‚         â–¼                â–¼                â–¼                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Git Submodules (skills/)                â”‚  â”‚
â”‚  â”‚                                                      â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚  â”‚
â”‚  â”‚  â”‚anthropicsâ”‚ â”‚superpowersâ”‚ â”‚antigravityâ”‚ ...      â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Git Submodules è¯¦è§£

### ä¸ºä»€ä¹ˆé€‰æ‹© Submodulesï¼Ÿ

| æ–¹æ¡ˆ | è‡ªåŠ¨åŒæ­¥ | ä¿ç•™å†å² | ç©ºé—´æ•ˆç‡ | ç»´æŠ¤æˆæœ¬ |
|------|----------|----------|----------|----------|
| Git Submodules | âœ… | âœ… | âœ… | ä¸­ |
| Git Subtree | âœ… | âœ… | âœ… | é«˜ |
| æ‰‹åŠ¨å¤åˆ¶ | âŒ | âŒ | âŒ | ä½ |
| Fork + Sync | éƒ¨åˆ† | âœ… | âœ… | é«˜ |

### Submodules å·¥ä½œåŸç†

```
ä¸»ä»“åº“ (.git)
â”œâ”€â”€ .gitmodules          # å­æ¨¡å—é…ç½®
â”œâ”€â”€ skills/
â”‚   â”œâ”€â”€ anthropics/      # â†’ https://github.com/anthropics/skills
â”‚   â”œâ”€â”€ superpowers/     # â†’ https://github.com/obra/superpowers
â”‚   â””â”€â”€ ...
â””â”€â”€ .git/modules/        # å­æ¨¡å—çš„ Git æ•°æ®
    â”œâ”€â”€ skills/anthropics/
    â”œâ”€â”€ skills/superpowers/
    â””â”€â”€ ...
```

### é…ç½®æ–‡ä»¶ (.gitmodules)

```ini
[submodule "skills/anthropics"]
    path = skills/anthropics
    url = https://github.com/anthropics/skills.git
    branch = main
```

### å…³é”®å‘½ä»¤

```bash
# åˆå§‹åŒ–ï¼ˆé¦–æ¬¡ï¼‰
git submodule update --init --recursive

# æ›´æ–°åˆ°è¿œç¨‹æœ€æ–°
git submodule update --remote

# æ›´æ–°ç‰¹å®šå­æ¨¡å—
git submodule update --remote skills/anthropics

# æŸ¥çœ‹çŠ¶æ€
git submodule status
```

## åŒæ­¥æœºåˆ¶

### è‡ªåŠ¨åŒæ­¥ (GitHub Actions)

```yaml
# .github/workflows/sync-skills.yml
on:
  schedule:
    - cron: '0 0 * * *'  # æ¯å¤© UTC 00:00

jobs:
  sync:
    steps:
      - uses: actions/checkout@v4
        with:
          submodules: recursive
      
      - run: git submodule update --remote
      
      - uses: peter-evans/create-pull-request@v5
        with:
          title: 'ğŸ”„ Sync Skills from Upstream'
```

### æœ¬åœ°åŒæ­¥è„šæœ¬

```bash
# scripts/update-all.sh
#!/bin/bash
git submodule update --remote

# å¯é€‰ï¼šè‡ªåŠ¨æäº¤
if [ "$AUTO_COMMIT" = true ]; then
    git add .
    git commit -m "chore: sync skills"
    git push
fi
```

## ç›®å½•ç»“æ„æ˜ å°„

### ä¸åŒæ¥æºçš„ç»“æ„å·®å¼‚

```
# anthropics/skills
skills/
â”œâ”€â”€ algorithmic-art/
â”œâ”€â”€ brand-guidelines/
â””â”€â”€ docx/

# obra/superpowers
skills/
â”œâ”€â”€ brainstorming/
â”œâ”€â”€ test-driven-development/
â””â”€â”€ systematic-debugging/

# sickn33/antigravity-awesome-skills (æ ¹ç›®å½•)
brainstorming/
web-development/
docs/
```

### ç»Ÿä¸€æ˜ å°„ç­–ç•¥

```json
{
  "sources": [
    {
      "name": "anthropics",
      "skillPaths": ["skills"],      // ä» skills/ å­ç›®å½•æå–
      "exclude": ["template"]        // æ’é™¤ template ç›®å½•
    },
    {
      "name": "antigravity",
      "skillPaths": ["."],           // ä»æ ¹ç›®å½•æå–
      "exclude": ["docs", "scripts"] // æ’é™¤é skill ç›®å½•
    }
  ]
}
```

## å¯¼å‡ºæœºåˆ¶

### å¯¼å‡ºæµç¨‹

```
skills/anthropics/skills/    â†’    skills-export/anthropics/
skills/superpowers/skills/   â†’    skills-export/superpowers/
skills/antigravity/          â†’    skills-export/antigravity/ (æ’é™¤ docs/)
```

### å®ç°ä»£ç 

```bash
# scripts/sync-skills.sh
sync_source() {
    local source_name=$1
    local source_path=$2
    local skill_paths=$3
    local exclude=$4
    
    for skill_path in $skill_paths; do
        full_path="$source_path/$skill_path"
        
        # å¤åˆ¶å¹¶æ’é™¤
        rsync -av --exclude={$exclude} \
            "$full_path/" \
            "$OUTPUT_DIR/$source_name/"
    done
}
```

## å†²çªå¤„ç†

### åŒå Skill å¤„ç†

å½“ä¸åŒæ¥æºæœ‰åŒå skill æ—¶ï¼š

1. **ä¿ç•™æ¥æºå‰ç¼€**ï¼š`anthropics/brainstorming` vs `antigravity/brainstorming`
2. **é…ç½®ä¼˜å…ˆçº§**ï¼šåœ¨ `sync-config.json` ä¸­è®¾ç½®ä¼˜å…ˆçº§
3. **æ‰‹åŠ¨é€‰æ‹©**ï¼šå¯¼å‡ºåæ‰‹åŠ¨é€‰æ‹©éœ€è¦çš„ç‰ˆæœ¬

### æ›´æ–°å†²çª

```bash
# å¼ºåˆ¶æ›´æ–°ï¼ˆä¸¢å¼ƒæœ¬åœ°æ›´æ”¹ï¼‰
git submodule update --remote --force

# ä¿ç•™æœ¬åœ°æ›´æ”¹
git submodule update --remote --rebase

# åˆå¹¶æ›´æ”¹
git submodule update --remote --merge
```

## æ€§èƒ½ä¼˜åŒ–

### å…‹éš†ä¼˜åŒ–

```bash
# æµ…å…‹éš†ï¼ˆèŠ‚çœç©ºé—´ï¼‰
git submodule update --init --depth 1

# å¹¶è¡Œå…‹éš†
git submodule update --init --jobs 4
```

### æ›´æ–°ä¼˜åŒ–

```bash
# åªæ›´æ–°ç‰¹å®šå­æ¨¡å—
git submodule update --remote skills/anthropics

# æ‰¹é‡æ›´æ–°ï¼ˆåå°ï¼‰
for dir in skills/*/; do
    (cd "$dir" && git pull) &
done
wait
```

## å®‰å…¨è€ƒè™‘

### å­æ¨¡å—å®‰å…¨

1. **åªè¯»è®¿é—®**ï¼šå­æ¨¡å—é»˜è®¤åªè¯»ï¼Œé˜²æ­¢æ„å¤–ä¿®æ”¹
2. **ç­¾åéªŒè¯**ï¼šå¯å¯ç”¨ GPG ç­¾åéªŒè¯
3. **æ¥æºå®¡æŸ¥**ï¼šåªæ·»åŠ å¯ä¿¡æ¥æº

### GitHub Actions å®‰å…¨

```yaml
permissions:
  contents: write      # éœ€è¦å†™å…¥æƒé™æ¥åˆ›å»º PR
  pull-requests: write # éœ€è¦ PR æƒé™

# ä½¿ç”¨æœ€å°æƒé™åŸåˆ™
```

## æ‰©å±•æ€§è®¾è®¡

### æ·»åŠ æ–°æ¥æº

1. **æ·»åŠ å­æ¨¡å—**ï¼š
```bash
git submodule add <url> skills/new-source
```

2. **æ›´æ–°é…ç½®**ï¼š
```json
{
  "name": "new-source",
  "skillPaths": ["skills"],
  "exclude": []
}
```

3. **æµ‹è¯•**ï¼š
```bash
./scripts/sync-skills.sh new-source
```

### è‡ªå®šä¹‰åŒæ­¥é€»è¾‘

```bash
# åœ¨ sync-skills.sh ä¸­æ·»åŠ è‡ªå®šä¹‰é€»è¾‘
case "$source_name" in
    "custom-source")
        # è‡ªå®šä¹‰åŒæ­¥é€»è¾‘
        custom_sync "$source_path"
        ;;
esac
```

## æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜

| é—®é¢˜ | åŸå›  | è§£å†³æ–¹æ¡ˆ |
|------|------|----------|
| å­æ¨¡å—ä¸ºç©º | æœªåˆå§‹åŒ– | `git submodule update --init` |
| æ›´æ–°å¤±è´¥ | ç½‘ç»œ/æƒé™ | æ£€æŸ¥ç½‘ç»œå’Œ token |
| åŒæ­¥å¤±è´¥ | é…ç½®é”™è¯¯ | æ£€æŸ¥ sync-config.json |
| å†²çª | æœ¬åœ°ä¿®æ”¹ | `git submodule update --force` |

### è°ƒè¯•æ¨¡å¼

```bash
# å¯ç”¨è¯¦ç»†è¾“å‡º
export GIT_TRACE=1
./scripts/update-all.sh

# æ£€æŸ¥å­æ¨¡å—çŠ¶æ€
git submodule status --recursive

# æŸ¥çœ‹å­æ¨¡å—æ—¥å¿—
git submodule foreach 'git log --oneline -5'
```

## æœªæ¥æ”¹è¿›

### å¯èƒ½çš„å¢å¼º

1. **å¢é‡åŒæ­¥**ï¼šåªåŒæ­¥æ›´æ”¹çš„æ–‡ä»¶
2. **é€‰æ‹©æ€§åŒæ­¥**ï¼šæ ¹æ®æ ‡ç­¾/ç±»åˆ«é€‰æ‹© skills
3. **ç‰ˆæœ¬é”å®š**ï¼šæ”¯æŒé”å®šåˆ°ç‰¹å®šç‰ˆæœ¬
4. **ä¾èµ–ç®¡ç†**ï¼šå¤„ç† skills ä¹‹é—´çš„ä¾èµ–å…³ç³»
5. **Web ç•Œé¢**ï¼šå¯è§†åŒ–æµè§ˆå’Œç®¡ç† skills

### æŠ€æœ¯å€ºåŠ¡

- å½“å‰ä¾èµ– `jq` è¿›è¡Œ JSON è§£æï¼Œè€ƒè™‘å†…ç½®æ›¿ä»£æ–¹æ¡ˆ
- åŒæ­¥è„šæœ¬å¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–æ€§èƒ½
- éœ€è¦æ›´å¤šæµ‹è¯•è¦†ç›–

## å‚è€ƒèµ„æº

- [Git Submodules å®˜æ–¹æ–‡æ¡£](https://git-scm.com/book/en/v2/Git-Tools-Submodules)
- [GitHub Actions æ–‡æ¡£](https://docs.github.com/en/actions)
- [Agent Skills è§„èŒƒ](https://agentskills.io/)
