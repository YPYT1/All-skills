# Context-Restore Skill è®¾è®¡æ–‡æ¡£

## 1. æ ¸å¿ƒä»·å€¼ä¸å®šä½

### 1.1 æ ¸å¿ƒä»·å€¼
**è®©ç”¨æˆ·åœ¨ `/new`ï¼ˆå¼€å¯æ–°ä¼šè¯ï¼‰åå¿«é€Ÿæ¢å¤å·¥ä½œçŠ¶æ€**

- **ç—›ç‚¹è§£å†³**ï¼šç”¨æˆ·æ¯æ¬¡ new session åï¼ŒAI æ— æ³•è®°ä½ä¹‹å‰çš„ä¸Šä¸‹æ–‡å’Œå·¥ä½œè¿›åº¦
- **ä»·å€¼ä¸»å¼ **ï¼šæ— éœ€é‡å¤è§£é‡ŠèƒŒæ™¯ï¼Œç§’çº§æ¢å¤åˆ°ä¹‹å‰çš„å·¥ä½œçŠ¶æ€
- **ç”¨æˆ·ä½“éªŒ**ï¼šè‡ªç„¶è¯­è¨€è§¦å‘ï¼Œæ— æ„Ÿæ¢å¤ï¼Œåƒä»æœªä¸­æ–­è¿‡ä¸€æ ·

### 1.2 ç›®æ ‡ç”¨æˆ·åœºæ™¯
| åœºæ™¯ | ç”¨æˆ·éœ€æ±‚ | æ¢å¤å†…å®¹ |
|------|---------|---------|
| è·¨å¤©ç»§ç»­å·¥ä½œ | æ˜¨å¤©åšåˆ°å“ªäº†ï¼Ÿ | é¡¹ç›®è¿›åº¦ã€å¾…åŠä»»åŠ¡ |
| ä»»åŠ¡åˆ‡æ¢åå›æ¥ | ä¹‹å‰åœ¨åšä»€ä¹ˆï¼Ÿ | å½“å‰ä»»åŠ¡çŠ¶æ€ã€å…³é”®æ–‡ä»¶ |
| ä¸­æ–­åç»§ç»­ | æ¥ç€åˆšæ‰çš„èŠ | å¯¹è¯å†å²èŠ‚ç‚¹ |
| å‘¨æœŸæ€§å›é¡¾ | è¿™å‘¨åšäº†å“ªäº›äº‹ï¼Ÿ | æ—¶é—´çº¿æ‘˜è¦ã€æˆæœåˆ—è¡¨ |

---

## 2. åŠŸèƒ½èŒƒå›´

### 2.1 è§¦å‘æ¡ä»¶

#### ä¸­æ–‡å…³é”®è¯
```
æ ¸å¿ƒè¯: æ¢å¤ä¸Šä¸‹æ–‡ã€ç»§ç»­ä¹‹å‰çš„å·¥ä½œ
æ‰©å±•è¯: æ¢å¤ã€æ¥ç€ã€ç»§ç»­ã€ä¹‹å‰èŠåˆ°å“ªäº†ã€ç»§ç»­ä¹‹å‰çš„å·¥ä½œã€
        ç»§ç»­ä¹‹å‰çš„ä»»åŠ¡ã€æ¥ç€åšã€å›åˆ°ä¹‹å‰çš„å·¥ä½œã€æ¢å¤å·¥ä½œçŠ¶æ€ã€
        æˆ‘ä¹‹å‰åœ¨åšä»€ä¹ˆã€ç»§ç»­æ˜¨å¤©çš„
```

#### è‹±æ–‡å…³é”®è¯
```
æ ¸å¿ƒè¯: restore contextã€continue previous work
æ‰©å±•è¯: continueã€resumeã€what was I doingã€where did we leave offã€
        get back to workã€resume sessionã€restore sessionã€
        continue where we left offã€pick up where we left off
```

#### å‘½ä»¤æ ¼å¼
```
/context-restore [é€‰é¡¹]
/restore [é€‰é¡¹]
æ¢å¤ä¸Šä¸‹æ–‡ [çº§åˆ«]
restore context [level]
```

#### çº§åˆ«å‚æ•°
```
minimal / min / ç®€çŸ­    â†’ æç®€æ¨¡å¼
normal / default / æ­£å¸¸ â†’ æ ‡å‡†æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰
detailed / full / è¯¦ç»†  â†’ å®Œæ•´æ¨¡å¼
```

### 2.2 æ¢å¤çº§åˆ«

| çº§åˆ« | è§¦å‘æ–¹å¼ | è¾“å‡ºå†…å®¹ | Tokenæ¶ˆè€— | é€‚ç”¨åœºæ™¯ |
|------|---------|---------|----------|---------|
| **Minimal** | å…³é”®è¯ + "-min" | æ ¸å¿ƒçŠ¶æ€ä¸€å¥è¯ + 1ä¸ªæ´»è·ƒä»»åŠ¡ | ~50 | å¿«é€Ÿç¡®è®¤ |
| **Normal** | å…³é”®è¯ï¼ˆé»˜è®¤ï¼‰ | é¡¹ç›®çŠ¶æ€ + å¾…åŠåˆ—è¡¨ + æœ€è¿‘æ“ä½œ | ~200 | æ—¥å¸¸ä½¿ç”¨ |
| **Detailed** | å…³é”®è¯ + "-detailed" | å®Œæ•´ä¸Šä¸‹æ–‡ + æ—¶é—´çº¿ + å†å²è®°å½• | ~500 | æ·±åº¦æ¢å¤ |

#### Minimal è¾“å‡ºç¤ºä¾‹
```
âœ… ä¸Šä¸‹æ–‡å·²æ¢å¤

**çŠ¶æ€**ï¼šHermes Plan è¿›è¡Œä¸­ï¼ˆæ•°æ®ç®¡é“å®Œæˆï¼Œå¾…æµ‹è¯•ï¼‰
```

#### Normal è¾“å‡ºç¤ºä¾‹
```
âœ… ä¸Šä¸‹æ–‡å·²æ¢å¤

**å½“å‰æ´»è·ƒé¡¹ç›®**ï¼š
1. ğŸ›ï¸ Hermes Plan - æ•°æ®åˆ†æåŠ©æ‰‹ï¼ˆè¿›åº¦ï¼š80%ï¼‰
2. ğŸŒ Akasha Plan - è‡ªä¸»æ–°é—»ç³»ç»Ÿï¼ˆè¿›åº¦ï¼š45%ï¼‰

**å¾…åŠä»»åŠ¡**ï¼š
- [é«˜] ç¼–å†™æ•°æ®ç®¡é“æµ‹è¯•ç”¨ä¾‹
- [ä¸­] è®¾è®¡ Akasha UI ç»„ä»¶
- [ä½] æ›´æ–° README æ–‡æ¡£

**æœ€è¿‘æ“ä½œ**ï¼ˆä»Šå¤©ï¼‰ï¼š
- å®Œæˆæ•°æ®æ¸…æ´—æ¨¡å—
- æ·»åŠ  3 ä¸ªæ–° cron ä»»åŠ¡
- ä¿®æ”¹é…ç½®æ–‡ä»¶
```

#### Detailed è¾“å‡ºç¤ºä¾‹
```
âœ… ä¸Šä¸‹æ–‡å·²æ¢å¤ï¼ˆå®Œæ•´æ¨¡å¼ï¼‰

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Š ä¼šè¯æ¦‚è§ˆ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
å½“å‰ä¼šè¯ï¼š#2026-02-06-main
æ´»è·ƒ Isolated Sessionsï¼š3ä¸ª
æœ€åæ´»åŠ¨ï¼š2å°æ—¶å‰

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ¯ æ ¸å¿ƒé¡¹ç›®çŠ¶æ€
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. ğŸ›ï¸ Hermes Planï¼ˆè¿›è¡Œä¸­ï¼‰
   çŠ¶æ€ï¼šå¼€å‘é˜¶æ®µ
   è¿›åº¦ï¼š80%
   å¾…åŠï¼šæµ‹è¯•ã€æ–‡æ¡£
   æ–‡ä»¶ï¼šsrc/hermes/*.py

2. ğŸŒ Akasha Planï¼ˆå¾…æ¢å¤ï¼‰
   çŠ¶æ€ï¼šè®¾è®¡é˜¶æ®µ
   è¿›åº¦ï¼š45%
   å¾…åŠï¼šUI å¼€å‘ã€API å¯¹æ¥
   æ–‡ä»¶ï¼šsrc/akasha/**/*

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“‹ ä»»åŠ¡é˜Ÿåˆ—
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ”´ é«˜ä¼˜å…ˆçº§ï¼š
   â€¢ ç¼–å†™ Hermes æ•°æ®ç®¡é“æµ‹è¯•ç”¨ä¾‹
   â€¢ ä¿®å¤ Akasha ç™»å½• bug

ğŸŸ¡ ä¸­ä¼˜å…ˆçº§ï¼š
   â€¢ è®¾è®¡ Akasha Dashboard ç»„ä»¶
   â€¢ æ›´æ–°é¡¹ç›® README

ğŸŸ¢ ä½ä¼˜å…ˆçº§ï¼š
   â€¢ ä¼˜åŒ–æ•°æ®æŸ¥è¯¢æ€§èƒ½
   â€¢ æ·»åŠ å•å…ƒæµ‹è¯•è¦†ç›–ç‡

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ• æ—¶é—´çº¿ï¼ˆæœ€è¿‘7å¤©ï¼‰
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
2026-02-06ï¼šå®Œæˆæ•°æ®æ¸…æ´—æ¨¡å—ã€æ·»åŠ  cron ä»»åŠ¡
2026-02-05ï¼šè®¾è®¡ Akasha ç³»ç»Ÿæ¶æ„
2026-02-04ï¼šå¯åŠ¨ Hermes é¡¹ç›®åˆå§‹åŒ–
```

### 2.3 è¾“å‡ºæ ¼å¼

#### æ¶ˆæ¯æ ¼å¼è§„èŒƒ
```markdown
âœ… **ä¸Šä¸‹æ–‡å·²æ¢å¤** [çº§åˆ«æ ‡è¯†]

[ä¸»è¦å†…å®¹å—]

---
ğŸ’¡ **æ“ä½œå»ºè®®**ï¼ˆå¯é€‰ï¼‰
â€¢ å»ºè®®æ“ä½œ 1
â€¢ å»ºè®®æ“ä½œ 2
```

#### å¹³å°é€‚é…
| å¹³å° | æ ¼å¼è°ƒæ•´ |
|------|---------|
| Telegram | ä½¿ç”¨ emoji å‰ç¼€ï¼Œåˆ†å—å‘é€ |
| Discord | ä½¿ç”¨ embed æ ¼å¼ |
| WhatsApp | æ—  markdownï¼Œç®€åŒ–æ ¼å¼ |
| CLI | çº¯æ–‡æœ¬ï¼Œæ ‘å½¢ç»“æ„ |

---

## 3. API è®¾è®¡

### 3.1 è¾“å…¥å‚æ•°
```typescript
interface ContextRestoreInput {
  // è§¦å‘æ–¹å¼
  trigger: "keyword" | "command";
  rawText: string;
  
  // æ¢å¤çº§åˆ«
  level: "minimal" | "normal" | "detailed";
  
  // ä¸Šä¸‹æ–‡é…ç½®
  config: {
    maxRecentActions: number;      // é»˜è®¤ 10
    maxProjects: number;           // é»˜è®¤ 5
    includeHistory: boolean;       // é»˜è®¤ false
    timeRange: "today" | "week" | "all"; // é»˜è®¤ "week"
  };
}
```

### 3.2 è¾“å‡ºç»“æ„
```typescript
interface ContextRestoreOutput {
  success: boolean;
  level: "minimal" | "normal" | "detailed";
  
  content: {
    summary: string;           // ä¸€å¥è¯æ‘˜è¦
    projects: ProjectInfo[];   // é¡¹ç›®åˆ—è¡¨
    tasks: TaskInfo[];         // å¾…åŠä»»åŠ¡
    recentActions: Action[];   // æœ€è¿‘æ“ä½œ
    timeline?: Timeline[];     // æ—¶é—´çº¿ï¼ˆdetailed çº§åˆ«ï¼‰
  };
  
  metadata: {
    lastUpdated: string;
    sessionCount: number;
    contextVersion: string;
  };
  
  suggestions?: string[];       // å»ºè®®çš„åç»­æ“ä½œ
}

interface ProjectInfo {
  id: string;
  name: string;
  status: "active" | "paused" | "completed";
  progress: number;             // 0-100
  description: string;
  files: string[];
  nextAction?: string;
}

interface TaskInfo {
  id: string;
  title: string;
  priority: "high" | "medium" | "low";
  projectId: string;
  status: "pending" | "in_progress" | "blocked";
}

interface Action {
  timestamp: string;
  type: "file_edit" | "command" | "chat" | "deploy";
  description: string;
  projectId?: string;
}
```

### 3.3 å†…éƒ¨æ–¹æ³•
```python
class ContextRestoreSkill:
    
    async def restore_context(
        self,
        level: str = "normal",
        options: dict = None
    ) -> ContextRestoreOutput:
        """ä¸»å…¥å£ï¼šæ¢å¤ä¸Šä¸‹æ–‡"""
        
    async def _load_compressed_context(self) -> dict:
        """åŠ è½½ compressed_context/latest_compressed.json"""
        
    async def _extract_projects(self, context: dict) -> list[ProjectInfo]:
        """ä»ä¸Šä¸‹æ–‡ä¸­æå–é¡¹ç›®ä¿¡æ¯"""
        
    async def _extract_tasks(self, context: dict) -> list[TaskInfo]:
        """æå–å¾…åŠä»»åŠ¡"""
        
    async def _build_timeline(self, context: dict) -> list[Timeline]:
        """æ„å»ºæ—¶é—´çº¿ï¼ˆdetailed çº§åˆ«ï¼‰"""
        
    async def _format_output(
        self,
        data: ContextData,
        level: str,
        platform: str
    ) -> FormattedOutput:
        """æ ¼å¼åŒ–è¾“å‡º"""
```

---

## 4. æ•°æ®æºä¸ä¾èµ–

### 4.1 ä¾èµ–æ–‡ä»¶
```
required:
  - ./compressed_context/latest_compressed.json

optional:
  - ./memory/MEMORY.md          # é•¿æœŸè®°å¿†
  - ./memory/YYYY-MM-DD.md      # æ¯æ—¥è®°å½•
  - ./projects/*/status.json    # é¡¹ç›®çŠ¶æ€æ–‡ä»¶
```

### 4.2 ä¸Šä¸‹æ–‡æ–‡ä»¶ç»“æ„
```json
{
  "version": "1.0",
  "lastUpdated": "2026-02-06T23:42:00Z",
  "sessions": {
    "main": {
      "id": "main-2026-02-06",
      "active": true,
      "projects": ["hermes", "akasha"],
      "lastMessage": "å¼€å§‹è®¾è®¡æ•°æ®ç®¡é“"
    },
    "isolated": [
      {
        "id": "isolated-blogwatcher-001",
        "name": "Blog Watcher",
        "status": "active",
        "purpose": "ç›‘æ§æŠ€æœ¯åšå®¢æ›´æ–°"
      }
    ]
  },
  "projects": {
    "hermes": {
      "name": "Hermes Plan",
      "status": "in_progress",
      "progress": 80,
      "description": "æ•°æ®åˆ†æåŠ©æ‰‹",
      "files": ["src/hermes/*.py"],
      "tasks": [
        {"id": "t1", "title": "ç¼–å†™æµ‹è¯•ç”¨ä¾‹", "priority": "high"}
      ]
    }
  },
  "recentActions": [
    {
      "timestamp": "2026-02-06T21:00:00Z",
      "type": "file_edit",
      "description": "å®Œæˆæ•°æ®æ¸…æ´—æ¨¡å—",
      "project": "hermes"
    }
  ],
  "timeline": [
    {"date": "2026-02-06", "actions": [...]}
  ]
}
```

---

## 5. ä¸å…¶ä»–æŠ€èƒ½çš„é›†æˆ

### 5.1 é›†æˆå…³ç³»å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Context-Restore                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ä¸Šæ¸¸ä¾èµ–:                                                â”‚
â”‚  â”œâ”€â”€ context-save (ä¿å­˜ä¸Šä¸‹æ–‡)                           â”‚
â”‚  â”œâ”€â”€ memory_get (è¯»å– MEMORY.md)                         â”‚
â”‚  â””â”€â”€ memory_search (æœç´¢å†å²)                            â”‚
â”‚                                                         â”‚
â”‚  ä¸‹æ¸¸æä¾›:                                                â”‚
â”‚  â”œâ”€â”€ é¡¹ç›®çŠ¶æ€ â†’ å¯è¢« summarize å¼•ç”¨                       â”‚
â”‚  â”œâ”€â”€ å¾…åŠåˆ—è¡¨ â†’ å¯è¢« task-manager ä½¿ç”¨                   â”‚
â”‚  â””â”€â”€ æ—¶é—´çº¿ â†’ å¯è¢« weekly-review å¼•ç”¨                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 è¯¦ç»†é›†æˆç‚¹

#### ä¸ context-save çš„äº’è¡¥å…³ç³»
```markdown
**context-save**ï¼šä¼šè¯ç»“æŸæ—¶è‡ªåŠ¨ä¿å­˜ä¸Šä¸‹æ–‡
**context-restore**ï¼šä¼šè¯å¼€å§‹æ—¶æ¢å¤ä¸Šä¸‹æ–‡

é…åˆä½¿ç”¨æµç¨‹ï¼š
1. ç”¨æˆ·ç»“æŸä¼šè¯ â†’ context-save è‡ªåŠ¨ä¿å­˜
2. ç”¨æˆ· new session â†’ context-restore è‡ªåŠ¨/æ‰‹åŠ¨è§¦å‘
3. ç”¨æˆ·ç¡®è®¤ â†’ ç»§ç»­å·¥ä½œ
```

#### ä¸ memory_get çš„é›†æˆ
```markdown
context-restore â†’ è°ƒç”¨ memory_get â†’ è·å– MEMORY.md æ ¸å¿ƒè¦ç‚¹
                               â†’ èå…¥æ¢å¤æŠ¥å‘Šçš„"èƒŒæ™¯ä¿¡æ¯"éƒ¨åˆ†
```

#### ä¸ memory_search çš„é›†æˆ
```markdown
context-restore + "-search [å…³é”®è¯]"
                   â†“
             è°ƒç”¨ memory_search
                   â†“
           è¿”å›ç›¸å…³å†å²è®°å½•
                   â†“
           èå…¥è¯¦ç»†ä¸Šä¸‹æ–‡
```

#### ä¸ summarize çš„é›†æˆ
```markdown
context-restore + "--summarize"
                   â†“
             è°ƒç”¨ summarize
                   â†“
           è¿”å›é¡¹ç›®/ä»»åŠ¡æ‘˜è¦
                   â†“
           ä½œä¸ºå»ºè®®æ“ä½œå‘ˆç°
```

### 5.3 äº‹ä»¶è§¦å‘æœºåˆ¶
```typescript
// å½“æ£€æµ‹åˆ°æ¢å¤ä¸Šä¸‹æ–‡æ„å›¾æ—¶ï¼Œå‘å¸ƒäº‹ä»¶
eventBus.publish({
  topic: "skill:context-restore:detected",
  payload: {
    intent: "restore_context",
    level: "normal",
    userId: "xxx"
  }
});

// å…¶ä»–æŠ€èƒ½å¯ä»¥ç›‘å¬æ­¤äº‹ä»¶
eventBus.subscribe("skill:context-restore:detected", handler);
```

---

## 6. é”™è¯¯å¤„ç†

### 6.1 å¼‚å¸¸åœºæ™¯
| åœºæ™¯ | å¤„ç†æ–¹å¼ | ç”¨æˆ·æ¶ˆæ¯ |
|------|---------|---------|
| ä¸Šä¸‹æ–‡æ–‡ä»¶ä¸å­˜åœ¨ | åˆ›å»ºç©ºä¸Šä¸‹æ–‡ï¼Œè®°å½•è­¦å‘Š | "æœªæ‰¾åˆ°å†å²ä¸Šä¸‹æ–‡ï¼Œå°†ä»æ–°ä¼šè¯å¼€å§‹" |
| ä¸Šä¸‹æ–‡æ–‡ä»¶æŸå | å°è¯•é™çº§è¯»å–ï¼Œè®°å½•é”™è¯¯ | "ä¸Šä¸‹æ–‡æ–‡ä»¶å¼‚å¸¸ï¼Œå·²é‡ç½®ä¸ºåˆå§‹çŠ¶æ€" |
| è§£æå¤±è´¥ | è¿”å› minimal ç‰ˆæœ¬ | "éƒ¨åˆ†ä¸Šä¸‹æ–‡æ— æ³•æ¢å¤ï¼Œå·²è·å–æ ¸å¿ƒä¿¡æ¯" |
| æ–‡ä»¶æƒé™é”™è¯¯ | è®°å½•æ—¥å¿—ï¼Œé™é»˜å¤±è´¥ | "æ— æ³•è®¿é—®ä¸Šä¸‹æ–‡æ–‡ä»¶ï¼Œè¯·æ£€æŸ¥æƒé™" |

### 6.2 å›é€€ç­–ç•¥
```python
async def restore_with_fallback(self, level: str):
    """å¸¦å›é€€çš„æ¢å¤é€»è¾‘"""
    try:
        # å°è¯•å®Œæ•´æ¢å¤
        return await self._restore_full(level)
    except ContextFileNotFound:
        # å›é€€åˆ° minimal
        return await self._restore_minimal_fresh()
    except ContextCorrupted:
        # å›é€€åˆ°ç©ºä¸Šä¸‹æ–‡ + è­¦å‘Š
        return await self._create_empty_context_warning()
```

---

## 7. é…ç½®é€‰é¡¹

### 7.1 æŠ€èƒ½é…ç½®
```yaml
# SKILL_CONFIG.md
context-restore:
  # é»˜è®¤æ¢å¤çº§åˆ«
  default_level: "normal"
  
  # æ˜¯å¦è‡ªåŠ¨è§¦å‘ï¼ˆæ£€æµ‹åˆ°æ„å›¾æ—¶ï¼‰
  auto_trigger: true
  
  # è¾“å‡ºé…ç½®
  output:
    show_timeline: true
    max_projects: 5
    max_recent_actions: 10
    include_file_list: true
  
  # å¹³å°é€‚é…
  platform_config:
    telegram:
      use_emoji: true
      split_long_output: true
    discord:
      use_embed: true
      max_embed_fields: 10
    whatsapp:
      use_emoji: false
      simplify_format: true
```

---

## 8. ç”¨æˆ·ä½“éªŒè®¾è®¡

### 8.1 äº¤äº’æµç¨‹
```
ç”¨æˆ·è¾“å…¥æ„å›¾
     â†“
æ„å›¾è¯†åˆ«ï¼ˆNLP/å…³é”®è¯åŒ¹é…ï¼‰
     â†“
ç¡®å®šæ¢å¤çº§åˆ«
     â†“
åŠ è½½ä¸Šä¸‹æ–‡æ•°æ®
     â†“
æ ¼å¼åŒ–è¾“å‡º
     â†“
å‘é€æ¢å¤æŠ¥å‘Š
     â†“
ç­‰å¾…ç”¨æˆ·ç¡®è®¤/é€‰æ‹©
```

### 8.2 ç¡®è®¤æœºåˆ¶
```markdown
å‘é€æ¢å¤æŠ¥å‘Šåï¼Œæä¾›äº¤äº’é€‰é¡¹ï¼š

âœ… **ä¸Šä¸‹æ–‡å·²æ¢å¤**

**æ´»è·ƒé¡¹ç›®**ï¼šHermes Plan (80%)

[ç»§ç»­ Hermes]  [æŸ¥çœ‹å…¨éƒ¨é¡¹ç›®]  [æ–°ä»»åŠ¡]
```

### 8.3 æ¸è¿›å¼æŠ«éœ²
- **é¦–æ¬¡æ¢å¤**ï¼šè¾“å‡º Normal çº§åˆ«
- **ç”¨æˆ·è¯·æ±‚**ï¼šå‡çº§åˆ° Detailed çº§åˆ«
- **ç”¨æˆ·ç¡®è®¤å**ï¼šåˆ‡æ¢åˆ° Minimal çº§åˆ«è¿›è¡Œä»»åŠ¡

---

## 9. æ€§èƒ½ä¸é™åˆ¶

### 9.1 æ€§èƒ½æŒ‡æ ‡
| æŒ‡æ ‡ | ç›®æ ‡å€¼ |
|------|-------|
| å“åº”å»¶è¿Ÿ | < 500ms |
| ä¸Šä¸‹æ–‡åŠ è½½ | < 200ms |
| æ ¼å¼åŒ–è¾“å‡º | < 100ms |

### 9.2 é™åˆ¶æ¡ä»¶
```yaml
limits:
  minimal_token: 50
  normal_token: 200
  detailed_token: 500
  max_projects: 10
  max_tasks: 20
  max_recent_actions: 20
  history_range: "30d"
```

---

## 10. æœªæ¥æ‰©å±•

### 10.1 è®¡åˆ’åŠŸèƒ½
- [ ] **æ™ºèƒ½æ¢å¤çº§åˆ«æ£€æµ‹**ï¼šæ ¹æ®ç”¨æˆ·é—®é¢˜è‡ªåŠ¨åˆ¤æ–­éœ€è¦çš„ä¸Šä¸‹æ–‡æ·±åº¦
- [ ] **é¡¹ç›®èšç„¦æ¨¡å¼**ï¼šç”¨æˆ·æŒ‡å®šé¡¹ç›®åï¼Œåªæ¢å¤è¯¥é¡¹ç›®çš„ä¸Šä¸‹æ–‡
- [ ] **å·®å¼‚æ¢å¤**ï¼šåªæ˜¾ç¤ºä¸ä¸Šæ¬¡ä¼šè¯ç›¸æ¯”çš„å˜åŒ–
- [ ] **å¤šä¼šè¯åè°ƒ**ï¼šåŒæ—¶ç®¡ç† main + isolated sessions çš„æ¢å¤
- [ ] **ä¸Šä¸‹æ–‡ç‰ˆæœ¬æ¯”è¾ƒ**ï¼šæ¯”è¾ƒä¸åŒæ—¶æœŸçš„ä¸Šä¸‹æ–‡å˜åŒ–

### 10.2 é›†æˆæ‰©å±•
- [ ] ä¸æ—¥å†é›†æˆ â†’ æ˜¾ç¤ºä¸‹æ¬¡ä¼šè®®ç›¸å…³ä¸Šä¸‹æ–‡
- [ ] ä¸ä»»åŠ¡ç®¡ç†é›†æˆ â†’ åŒæ­¥å¾…åŠåˆ—è¡¨çŠ¶æ€
- [ ] ä¸ Git é›†æˆ â†’ å…³è”ä»£ç æäº¤å†å²

---

## 11. æ–‡ä»¶ç»“æ„

```
skills/context-restore/
â”œâ”€â”€ SKILL.md                    # æŠ€èƒ½å®šä¹‰
â”œâ”€â”€ references/
â”‚   â””â”€â”€ design.md              # æœ¬è®¾è®¡æ–‡æ¡£
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ context_loader.py      # ä¸Šä¸‹æ–‡åŠ è½½å™¨
â”‚   â”œâ”€â”€ context_formatter.py   # è¾“å‡ºæ ¼å¼åŒ–
â”‚   â””â”€â”€ context_analyzer.py    # ä¸Šä¸‹æ–‡åˆ†æ
â””â”€â”€ tests/
    â”œâ”€â”€ test_restore_basic.py
    â”œâ”€â”€ test_restore_levels.py
    â””â”€â”€ test_integration.py
```
